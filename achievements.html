<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Achievements â€“ Animals of Asparuhovo</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .achievement-badge {
      width: 40px;
      height: 40px;
      display: inline-block;
      margin: 0 5px;
      vertical-align: middle;
    }

    .animal-card {
      display: inline-block;
      width: 220px;
      margin: 1rem;
      padding: 1rem;
      border-radius: 15px;
      background: #222;
      color: #fff;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    .animal-name {
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    .achievements-container {
      margin-top: 0.5rem;
    }

    .animal-card:target {
      animation: highlight 0.5s ease-out;
      box-shadow: 0 0 20px gold;
    }

    @keyframes highlight {
      0% { transform: scale(0.95); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>

<header class="site-header">
  <div class="logo">Animals of Asparuhovo</div>
  <nav class="main-nav">
    <a href="index.html">Home</a>
    <a href="cats.html">Cats</a>
    <a href="dogs.html">Dogs</a>
    <a href="competition.html">Competition</a>
    <a href="achievements.html" class="active">Achievements</a>
  </nav>
</header>

<main class="content">
  <section class="page-intro">
    <h1>Achievements</h1>
    <p>Every cat and dog has its own achievements. Click an animal to see details.</p>
  </section>

  <section id="achievements-grid">
    <!-- Cards will be generated dynamically -->
  </section>

</main>

<footer class="site-footer">
  Animals of Asparuhovo â€” Achievements
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCHA0x5tq8Po9liJMAiW-8mKfdcpVTwq_I",
  authDomain: "catweb-17233.firebaseapp.com",
  databaseURL: "https://catweb-17233-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "catweb-17233",
  storageBucket: "catweb-17233.appspot.com",
  messagingSenderId: "570888605898",
  appId: "1:570888605898:web:e7f4cf78b06a8280792433"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const achievementIcons = {
  'milk-lover': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#ffe680" stroke="#ffcf40" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸ¼</text> </svg>',
  'legend': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#ffd700" stroke="#ffb700" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸ‘‘</text> </svg>',
  'rising-star': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#a3ffec" stroke="#3ad1bf" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸŒŸ</text> </svg>',
  'playful-spirit': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#ff9999" stroke="#ff4d4d" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸƒ</text> </svg>',
  'veteran': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#b0b0b0" stroke="#808080" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸ…</text> </svg>',
  'popular': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#ffb3ff" stroke="#ff66ff" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸ’•</text> </svg>',
  'flashmob-hero': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#ffff99" stroke="#ffff4d" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">âš¡</text> </svg>',
  'mischief': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#999999" stroke="#666666" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸ˜¼</text> </svg>',
  'protector': '<svg class="achievement-badge" viewBox="0 0 64 64"> <circle cx="32" cy="32" r="30" fill="#99ccff" stroke="#3399ff" stroke-width="4"/> <text x="32" y="38" font-size="24" text-anchor="middle">ğŸ›¡</text> </svg>'
};

async function loadAchievements() {
  const snap = await get(ref(db, 'achievements'));
  if (!snap.exists()) return;

  const achievementsData = snap.val();
  const grid = document.getElementById('achievements-grid');

  for (const animalId in achievementsData) {
    const badges = achievementsData[animalId];

    const card = document.createElement('div');
    card.className = 'animal-card';
    card.id = animalId;

    const nameEl = document.createElement('div');
    nameEl.className = 'animal-name';
    nameEl.textContent = animalId.replace('-', ' ');

    const badgesEl = document.createElement('div');
    badgesEl.className = 'achievements-container';

    badges.forEach(b => {
      if (achievementIcons[b]) {
        const span = document.createElement('span');
        span.innerHTML = achievementIcons[b];
        badgesEl.appendChild(span);
      }
    });

    card.appendChild(nameEl);
    card.appendChild(badgesEl);
    grid.appendChild(card);
  }
}

loadAchievements();
</script>

</body>
</html>
